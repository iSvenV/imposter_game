<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Imposter Among Us</title>
<style>
  html, body {
    overflow: hidden;
    height: 100%;
  }
  body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(to top, #fbb1c6, #80c1e3);
    background-repeat: no-repeat;
    background-attachment: fixed;
    text-align: center;
    font-family: Arial, sans-serif;
    padding: 20px;
    color: white;
  }
  .hidden { display: none; }
  .checkbox-group, .radio-group {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    margin: 0 auto;
    width: fit-content;
    gap: 5px;
  }
  .horizontal-group {
    display: flex;
    justify-content: center;
    gap: 10px;
  }
  button {
    margin-top: 20px;
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background-color: white;
    color: #333;
    font-weight: bold;
    cursor: pointer;
  }
  #timerDisplay {
    font-size: 80px;
    margin-bottom: 40px;
  }
</style>
</head>
<body>

<!-- Phase 1: Game Settings -->
<div id="phase1">
  <h1>IMPOSTER AMONG US</h1>

  <div class="radio-group">
    <label><strong>Players:</strong></label>
    <div class="horizontal-group">
      <label><input type="radio" name="players" value="3">3</label>
      <label><input type="radio" name="players" value="4" checked>4</label>
      <label><input type="radio" name="players" value="5">5</label>
      <label><input type="radio" name="players" value="6">6</label>
    </div>
  </div>

  <div class="radio-group">
    <label><strong>Imposters:</strong></label>
    <div class="horizontal-group">
      <label><input type="radio" name="imposters" value="default" checked>Default</label>
      <label><input type="radio" name="imposters" value="random">?</label>
    </div>
  </div>

  <div class="radio-group">
    <label><strong>Timer:</strong></label>
    <div class="horizontal-group">
      <label><input type="radio" name="timer" value="1">1</label>
      <label><input type="radio" name="timer" value="2" checked>2</label>
      <label><input type="radio" name="timer" value="3">3</label>
    </div>
  </div>

  <div class="checkbox-group">
    <label><strong>Categories:</strong></label>
    <label><input type="checkbox" class="category" value="videoGames" checked> Video Games</label>
    <label><input type="checkbox" class="category" value="movies" checked> Movies</label>
    <label><input type="checkbox" class="category" value="celebrities" checked> Celebrities</label>
    <label><input type="checkbox" class="category" value="countries" checked> Countries</label>
    <label><input type="checkbox" class="category" value="items" checked> Items</label>
    <label><input type="checkbox" class="category" value="locations" checked> Locations</label>
    <label><input type="checkbox" class="category" value="things" checked> Things</label>
  </div>

  <button onclick="startGame()">Start Game</button>
</div>

<!-- Phase 2: Reveal Roles -->
<div id="phase2" class="hidden">
  <h2 id="playerLabel"></h2>
  <div id="revealSection">
    <button onclick="revealWord()">Reveal the Word</button>
  </div>
  <div id="wordSection" class="hidden">
    <h2 id="wordDisplay"></h2>
    <button onclick="nextPlayer()">Next Player</button>
  </div>
</div>

<!-- Phase 3: Timer -->
<div id="phase3" class="hidden">
  <div id="timerDisplay">02:00</div>
  <button onclick="endGame()">End Game</button>
</div>

<script>
const words = {
  videoGames: [
    "Minecraft","GTA V","The Witcher 3","Call of Duty","Fortnite","PUBG","League of Legends","Valorant","Elden Ring","Overwatch",
    "Apex Legends","Cyberpunk 2077","Red Dead Redemption 2","Counter-Strike","Assassin's Creed","Far Cry 5","Resident Evil 4","God of War","Dark Souls","Hollow Knight",
    "Stardew Valley","The Sims 4","Among Us","Rocket League","Destiny 2","Fall Guys","Mortal Kombat","Dota 2","Skyrim","Diablo IV",
    "Baldur’s Gate 3","Tekken 8","Street Fighter 6","Hades","Dead Cells","Subnautica","Terraria","Left 4 Dead 2","Palworld","Payday 3",
    "Hitman 3","Forza Horizon 5","FIFA 24","Battlefield V","Rainbow Six Siege","No Man’s Sky","The Forest","ARK: Survival Evolved","Rust","Sea of Thieves",
    "Borderlands 3","Control","Horizon Zero Dawn","Cyber Shadow","DOOM Eternal","Mass Effect","Metal Gear Solid","Watch Dogs 2","Portal 2","Half-Life 2"
  ],
  movies: [
    "Inception","Interstellar","Titanic","Avatar","The Dark Knight","Joker","Forrest Gump","The Matrix","Avengers: Endgame","Iron Man",
    "Gladiator","Pulp Fiction","The Godfather","Spider-Man","The Batman","Fight Club","The Shawshank Redemption","Parasite","Frozen","Toy Story",
    "Finding Nemo","The Lion King","Shrek","Star Wars","Jurassic Park","Terminator 2","Black Panther","Doctor Strange","Oppenheimer","Barbie",
    "Dune","Top Gun","The Wolf of Wall Street","Inglourious Basterds","The Prestige","La La Land","Whiplash","Coco","Up","Inside Out",
    "Encanto","The Incredibles","Monsters Inc.","Zootopia","Guardians of the Galaxy","The Avengers","Thor","Ant-Man","Deadpool","Logan",
    "The Hunger Games","Catching Fire","Divergent","Maze Runner","The Flash","Aquaman","Wonder Woman","Man of Steel","The Suicide Squad","The Meg"
  ],
  celebrities: [
    "Taylor Swift","Cristiano Ronaldo","Lionel Messi","Billie Eilish","Ariana Grande","Drake","Selena Gomez","Dwayne Johnson","Tom Cruise","Brad Pitt",
    "Leonardo DiCaprio","Robert Downey Jr.","Chris Evans","Emma Watson","Scarlett Johansson","Zendaya","Johnny Depp","Rihanna","Beyoncé","Ed Sheeran",
    "Justin Bieber","Shakira","Kanye West","Kim Kardashian","Will Smith","Jennifer Lawrence","Keanu Reeves","Miley Cyrus","Lady Gaga","Eminem",
    "Post Malone","Bruno Mars","Bad Bunny","Harry Styles","Kendrick Lamar","Tom Holland","Margot Robbie","Ryan Reynolds","Jason Momoa","Adam Sandler",
    "Angelina Jolie","Cillian Murphy","Matt Damon","Chris Hemsworth","Jennifer Lopez","Nicki Minaj","Dua Lipa","Doja Cat","The Weeknd","Selena",
    "David Beckham","Neymar Jr.","Zlatan Ibrahimović","Kylian Mbappé","Robert Lewandowski","Snoop Dogg","Jack Black","Ben Affleck","Hugh Jackman","Daniel Radcliffe"
  ],
  countries: [
    "ایران","فرانسه","آلمان","ایتالیا","انگلستان","کانادا","روسیه","چین","ژاپن","هند",
    "آمریکا","برزیل","مکزیک","مصر","ترکیه","عربستان","عراق","سوریه","یونان","سوئیس",
    "اسپانیا","پرتغال","سوئد","نروژ","فنلاند","دانمارک","هلند","بلژیک","اتریش","اوکراین",
    "لهستان","چک","رومانی","بلغارستان","کره جنوبی","تایلند","مالزی","اندونزی","ویتنام","پاکستان",
    "افغانستان","کویت","قطر","امارات","اردن","لبنان","فلسطین","کوبا","کلمبیا","آرژانتین"
  ],
  items: [
    "خودکار","دفتر","کتاب","کیف","کفش","عینک","موبایل","لپ‌تاپ","ساعت","چراغ",
    "تلویزیون","میز","صندلی","تخت","پتو","یخچال","قاشق","چنگال","بشقاب","لیوان",
    "کلاه","دستکش","چتر","بطری","کاغذ","مداد","سطل","پاک‌کن","کلید","کیبورد",
    "ماوس","هدفون","پنکه","هیتر","پنجره","درب","آینه","تابلو","فرش","تلویزیون",
    "شارژر","دوربین","میکروفون","کت","شلوار","تی‌شرت","کفگیر","قابلمه","چاقو","چنگال"
  ],
  locations: [
    "تهران","پاریس","لندن","نیویورک","رم","استانبول","برلین","توکیو","لس‌آنجلس","پکن",
    "مسکو","دبی","دوحه","کابل","دهلی","شیرکوه","کرمان","اصفهان","مشهد","تبریز",
    "شیراز","پراگ","وارنا","کپنهاگ","استکهلم","اوسلو","هلسینکی","آتن","نیس","میلان",
    "مونیخ","بروکسل","آمستردام","ناپل","کراچی","بغداد","دمشق","بیروت","قاهره","مدینه",
    "مکه","پالرم","سان‌فرانسیسکو","ریو","کاراکاس","لیسبون","هاوانا","سئول","بانکوک","هنگ‌کنگ"
  ],
  things: [
    "خواب","مهمانی","کار","مدرسه","عشق","ترس","آرامش","دوستی","خانواده","پول",
    "بازی","آهنگ","باران","برف","سفر","زمان","احساس","درد","خوشبختی","غم",
    "خنده","گریه","تلاش","امید","موفقیت","ترس","آزادی","یادگیری","نوشتن","خواندن",
    "رقص","آشپزی","ورزش","خرید","فکر","خوابیدن","بیداری","قدم‌زدن","فیلم","عکاسی",
    "خوشحالی","ناراحتی","دوستی","پدر","مادر","خواهر","برادر","حیوانات","موسیقی","لبخند"
  ]
};

let totalPlayers = 4;
let imposters = 1;
let currentPlayer = 1;
let roles = [];
let secretWord = "";
let timerSeconds = 120;

function startGame() {
  totalPlayers = parseInt(document.querySelector('input[name="players"]:checked').value);
  const imposterMode = document.querySelector('input[name="imposters"]:checked').value;
  const timerChoice = parseInt(document.querySelector('input[name="timer"]:checked').value);

  timerSeconds = timerChoice * 60;

  if (imposterMode === "default") {
    imposters = totalPlayers <= 4 ? 1 : 2;
  } else {
    imposters = Math.floor(Math.random() * totalPlayers) + 1;
  }

  const selectedCats = Array.from(document.querySelectorAll('.category:checked')).map(cb => cb.value);
  const chosenCat = selectedCats[Math.floor(Math.random() * selectedCats.length)];
  const catWords = words[chosenCat];
  secretWord = catWords[Math.floor(Math.random() * catWords.length)];

  roles = Array(totalPlayers).fill("word");
  for (let i = 0; i < imposters; i++) {
    const idx = Math.floor(Math.random() * totalPlayers);
    if (roles[idx] === "word") roles[idx] = "imposter";
  }

  document.getElementById("phase1").classList.add("hidden");
  document.getElementById("phase2").classList.remove("hidden");
  document.getElementById("playerLabel").innerText = `Player ${currentPlayer}`;
}

function revealWord() {
  document.getElementById("revealSection").classList.add("hidden");
  document.getElementById("wordSection").classList.remove("hidden");
  document.getElementById("wordDisplay").innerText =
    roles[currentPlayer - 1] === "imposter" ? "YOU ARE THE IMPOSTER" : secretWord;
}

function nextPlayer() {
  currentPlayer++;
  if (currentPlayer > totalPlayers) {
    document.getElementById("phase2").classList.add("hidden");
    document.getElementById("phase3").classList.remove("hidden");
    startTimer();
  } else {
    document.getElementById("wordSection").classList.add("hidden");
    document.getElementById("revealSection").classList.remove("hidden");
    document.getElementById("playerLabel").innerText = `Player ${currentPlayer}`;
  }
}

function startTimer() {
  const display = document.getElementById("timerDisplay");
  const timerInterval = setInterval(() => {
    const min = Math.floor(timerSeconds / 60);
    const sec = timerSeconds % 60;
    display.textContent = `${min.toString().padStart(2, "0")}:${sec
      .toString()
      .padStart(2, "0")}`;
    if (--timerSeconds < 0) {
      clearInterval(timerInterval);
      endGame();
    }
  }, 1000);
}

function endGame() {
  location.reload();
}
</script>
</body>
</html>
